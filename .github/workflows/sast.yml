name: SAST (Semgrep)
on:
  pull_request: { branches: [ master ] }
  push:
    branches: [ '**' ]
    paths:
      - '**/*.js'
      - '**/*.ts'
      - '!**/*.md'
jobs:
  sast:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with: { python-version: '3.11' }
      - run: python -m pip install --user pipx && python -m pipx ensurepath
      - run: pipx install semgrep
      - run: semgrep --config p/owasp-top-ten --error --timeout 120 .
